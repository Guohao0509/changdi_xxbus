!function(e,r,t){"use strict";function a(e,t){t=t||{},r.forEach(t,function(e,r){delete t[r]});for(var a in e)!e.hasOwnProperty(a)||"$"===a.charAt(0)&&"$"===a.charAt(1)||(t[a]=e[a]);return t}var n=r.$$minErr("$resource"),s=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;r.module("ngResource",["ng"]).provider("$resource",function(){var e=/^https?:\/\/[^\/]*/,o=this;this.defaults={stripTrailingSlashes:!0,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},delete:{method:"DELETE"}}},this.$get=["$http","$log","$q","$timeout",function(i,c,l,u){function p(e,r){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,r?"%20":"+")}function f(e,r){this.template=e,this.defaults=$({},o.defaults,r),this.urlParams={}}function h(e,p,y,b){function w(e,a){var o={};return a=$({},p,a),m(a,function(a,i){v(a)&&(a=a());var c;if(a&&a.charAt&&"@"==a.charAt(0)){c=e;var l=a.substr(1);if(null==l||""===l||"hasOwnProperty"===l||!s.test("."+l))throw n("badmember",l);for(var u=0,p=(l=l.split(".")).length;u<p&&r.isDefined(c);u++){var f=l[u];c=null!==c?c[f]:t}}else c=a;o[i]=c}),o}function A(e){return e.resource}function P(e){a(e||{},this)}var E=new f(e,b);return y=$({},o.defaults.actions,y),P.prototype.toJSON=function(){var e=$({},this);return delete e.$promise,delete e.$resolved,e},m(y,function(e,s){var p=/^(POST|PUT|PATCH)$/i.test(e.method),f=e.timeout,h=r.isDefined(e.cancellable)?e.cancellable:b&&r.isDefined(b.cancellable)?b.cancellable:o.defaults.cancellable;f&&!r.isNumber(f)&&(c.debug("ngResource:\n  Only numeric values are allowed as `timeout`.\n  Promises are not supported in $resource, because the same value would be used for multiple requests. If you are looking for a way to cancel requests, you should use the `cancellable` option."),delete e.timeout,f=null),P[s]=function(o,c,y,b){var T,R,O,D={};switch(arguments.length){case 4:O=b,R=y;case 3:case 2:if(!v(c)){D=o,T=c,R=y;break}if(v(o)){R=o,O=c;break}R=c,O=y;case 1:v(o)?R=o:p?T=o:D=o;break;case 0:break;default:throw n("badargs",arguments.length)}var q,k,x=this instanceof P,S=x?T:e.isArray?[]:new P(T),W={},j=e.interceptor&&e.interceptor.response||A,U=e.interceptor&&e.interceptor.responseError||t;return m(e,function(e,r){switch(r){default:W[r]=g(e);case"params":case"isArray":case"interceptor":case"cancellable":}}),!x&&h&&(q=l.defer(),W.timeout=q.promise,f&&(k=u(q.resolve,f))),p&&(W.data=T),E.setUrlParams(W,$({},w(T,e.params||{}),D),e.url),(D=i(W).then(function(t){var o=t.data;if(o){if(r.isArray(o)!==!!e.isArray)throw n("badcfg",s,e.isArray?"array":"object",r.isArray(o)?"array":"object",W.method,W.url);if(e.isArray)S.length=0,m(o,function(e){"object"==typeof e?S.push(new P(e)):S.push(e)});else{var i=S.$promise;a(o,S),S.$promise=i}}return t.resource=S,t},function(e){return(O||d)(e),l.reject(e)})).finally(function(){S.$resolved=!0,!x&&h&&(S.$cancelRequest=r.noop,u.cancel(k),q=k=W.timeout=null)}),D=D.then(function(e){var r=j(e);return(R||d)(r,e.headers),r},U),x?D:(S.$promise=D,S.$resolved=!1,h&&(S.$cancelRequest=q.resolve),S)},P.prototype["$"+s]=function(e,r,t){return v(e)&&(t=r,r=e,e={}),(e=P[s].call(this,e,this,r,t)).$promise||e}}),P.bind=function(r){return h(e,$({},p,r),y)},P}var d=r.noop,m=r.forEach,$=r.extend,g=r.copy,v=r.isFunction;return f.prototype={setUrlParams:function(t,a,s){var o,i,c=this,l=s||c.template,u="",f=c.urlParams={};m(l.split(/\W/),function(e){if("hasOwnProperty"===e)throw n("badname");!/^\d+$/.test(e)&&e&&new RegExp("(^|[^\\\\]):"+e+"(\\W|$)").test(l)&&(f[e]={isQueryParamValue:new RegExp("\\?.*=:"+e+"(?:\\W|$)").test(l)})}),l=l.replace(/\\:/g,":"),l=l.replace(e,function(e){return u=e,""}),a=a||{},m(c.urlParams,function(e,t){o=a.hasOwnProperty(t)?a[t]:c.defaults[t],r.isDefined(o)&&null!==o?(i=e.isQueryParamValue?p(o,!0):p(o,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+"),l=l.replace(new RegExp(":"+t+"(\\W|$)","g"),function(e,r){return i+r})):l=l.replace(new RegExp("(/?):"+t+"(\\W|$)","g"),function(e,r,t){return"/"==t.charAt(0)?t:r+t})}),c.defaults.stripTrailingSlashes&&(l=l.replace(/\/+$/,"")||"/"),l=l.replace(/\/\.(?=\w+($|\?))/,"."),t.url=u+l.replace(/\/\\\./,"/."),m(a,function(e,r){c.urlParams[r]||(t.params=t.params||{},t.params[r]=e)})}},h}]})}(window,window.angular);