angular.module("app",["ionic","ion-datetime-picker","ngAnimate"]).run(function(e,t,a,e,l,n){e.session={user:window.global.config.user},t.ready(function(){a.weekdays=["日","一","二","三","四","五","六"],a.months=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],a.ok="确认",a.cancel="取消",a.okClass="button-positive",a.cancelClass="button-stable"}),e.$on("$stateChangeStart",function(t,a,l){if((-1!=a.name.indexOf("schedule")||-1!=a.name.indexOf("i."))&&void 0==e.session.user.userInfo){t.preventDefault();var i="/"+a.name.replace(".","/");if(l){var u="",s=0;for(var o in l){var d=l[o];s>0&&void 0!=d&&(u+="&"),void 0!=d&&(u+=o+"="+d),s++}i=""!=u?encodeURIComponent(i+="?"+u):encodeURIComponent(i)}n.go("auth.login",{url:i},{location:"replace"})}})}).config(function(e,t){t.otherwise("/schedule_opened"),e.state("auth",{abstract:!0,url:"/auth",template:'<div ui-view class="fadeInUp animated"></div>'}).state("auth.login",{url:"/login?url",templateUrl:"a-bugubus/tpl/login.html"}).state("schedule_opened",{url:"/schedule_opened",templateUrl:"a-bugubus/tpl/schedule-opened.html"}).state("schedule",{abstract:!0,url:"/schedule",template:'<div ui-view class="fadeInUp animated"></div>'}).state("schedule.detail",{url:"/detail?stopStationobj",templateUrl:"a-bugubus/tpl/schedule-detail2.html"}).state("i",{abstract:!0,url:"/i",template:'<div ui-view class="fadeInUp animated"></div>'}).state("i.user",{url:"/user",templateUrl:"a-bugubus/tpl/i-user.html"})});