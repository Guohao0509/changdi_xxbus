app.directive("focusAuto",function(){return{link:function(scope,element){element[0].id="J_focus_auto_"+(new Date).getTime(),document.body.addEventListener("touchstart",function(e){e.target.id!=element[0].id&&element[0].blur()}),element[0].focus()}}}),app.filter("transfer",function(){return function(input,fieldName){if(void 0!=fieldName){var dict={sex:{0:"男",1:"女"},ticketStatus:{0:"车票已过期",1:"车票有效"}};return dict[fieldName][input]}alert("变量名称不能为空")}}),app.filter("idFilter",function(){return function(input){return input.slice(0,4)+"****"+input.slice(-4,input.length)}}),app.directive("touch",function(){return{link:function($scope,element){var startX,moveX,dom=element[0];dom.addEventListener("touchstart",function(e){dom&&(startX=e.targetTouches[0].pageX)}),dom.addEventListener("touchmove",function(e){var targetMarginLeft=dom.style.marginLeft.replace("px","");moveX=e.changedTouches[0].pageX,targetMarginLeft>=0&&0>startX-moveX||(targetMarginLeft>=-80&&0>startX-moveX?dom.style.marginLeft=-(startX-moveX)-80+"px":targetMarginLeft>-80&&(dom.style.marginLeft=startX-moveX>=80?"-80px":-(startX-moveX)+"px"))}),dom.addEventListener("touchend",function(e){var endX=e.changedTouches[0].pageX;if(startX-endX>30)var interval=setInterval(function(){var targetMarginLeft=dom.style.marginLeft.replace("px","");if(targetMarginLeft>-80){var temp=--targetMarginLeft;dom.style.marginLeft=--temp+"px"}else clearInterval(interval),dom.style.marginLeft="-80px"},2);else var interval=setInterval(function(){var targetMarginLeft=dom.style.marginLeft.replace("px","");if(0>targetMarginLeft){var temp=++targetMarginLeft;dom.style.marginLeft=++temp+"px"}else clearInterval(interval),dom.style.marginLeft=-0+"px"},2)})}}});