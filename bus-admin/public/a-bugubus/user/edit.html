<div class="wrapper-md" ng-controller="userEditController">
    <alert ng-repeat="alert in alerts" type="{{alert.type}}" dismiss-on-timeout="3000" close="closeAlert($index)" >{{alert.msg}}</alert>
    <div class="panel panel-default">
        <div class="panel-heading" ng-show="!editMode">
            添加用户
        </div>
        <div class="panel-heading" ng-show="editMode">
            <ul class="nav nav-pills pull-right">
                <li style=" padding-top:4px; padding-right:15px"><button class="btn m-b-xs btn-sm btn-primary btn-addon" ui-sref="app.driver.add"><i class="fa fa-plus"></i>添加司机</button></li>
            </ul>
            编辑用户
        </div>
        <div class="panel-body">
            <form class="form-horizontal form-validation" name="form">
                <div class="form-group">
                    <label class="col-sm-2 control-label">姓名<span class="text-danger text-md ">*</span></label>
                    <div class="col-sm-10">
                        <input type="text"  class="form-control"
                               name="name"
                               ng-model="user.username"
                               ng-pattern="/^[\u4e00-\u9fa5 ]{2,30}$/"
                               placeholder="中文，不超过20个汉字"
                               maxlength="20"
                               ng-required="true"
                                >
                    </div>
                </div>
                <div class="line line-dashed b-b line-lg pull-in"></div>
                <div class="form-group">
                    <label class="col-sm-2 control-label">性别<span class="text-danger text-md ">*</span></label></label>
                    <div class="col-sm-10">
                        <div class="radio inline">
                            <label class="i-checks">
                                <input type="radio" name="sex" ng-model="user.sex" value="0" ng-checked="user.sex=='0'||user.sex==undefined">
                                <i></i>
                                男
                            </label>
                        </div>
                        <div class="radio inline m-l">
                            <label class="i-checks">
                                <input type="radio" name="sex" ng-model="user.sex" value="1" ng-checked="driver.sex=='1'">
                                <i></i>
                                女
                            </label>
                        </div>
                    </div>
                </div>
                <!-- <div class="line line-dashed b-b line-lg pull-in"></div>
                <div class="form-group">
                    <label class="col-sm-2 control-label">驾照照片</label>
                    <div class="col-sm-10">
                        <input ui-jq="filestyle" type="file" data-icon="false" data-classButton="btn btn-default" data-classInput="form-control inline v-middle input-s">
                    </div>
                </div> -->
                <div class="line line-dashed b-b line-lg pull-in"></div>
                <div class="form-group">
                    <label class="col-sm-2 control-label">所属单位<span class="text-danger text-md ">*</span></label></label>
                    <div class="col-sm-10">
                        <select class="form-control" ng-init="user.company = '0'" ng-model="user.company" ng-required="true">
                            <option value="0" style="display: none;">请选择</option>
                            <option ng-repeat="item in companyList.units" value="{{item.unitid}}">{{item.unitName}}</option>
                        </select>
                    </div>
                </div>
                <div class="line line-dashed b-b line-lg pull-in"></div>
                <div class="form-group">
                    <label class="col-sm-2 control-label">手机<span class="text-danger text-md ">*</span></label></label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control"
                               ng-model="user.phone"
                               ng-pattern="/^1[34578]\d{9}$/"
                               placeholder="格式如 13412345678"
                               maxlength="11"
                               ng-required="true">
                    </div>
                </div>
                <div class="line line-dashed b-b line-lg pull-in"></div>
                <div class="form-group">
                    <div class="col-sm-4 col-sm-offset-2">
                        <button type="reset" ng-show="!editMode" class="btn btn-default">清空</button>
                        <button type="button" ng-show="editMode" class="btn btn-danger" ng-click="delete(driver)">删除</button>
                        <button type="submit" ng-click="submit()" ng-disabled="form.$invalid" class="btn btn-primary m-l">保存</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>